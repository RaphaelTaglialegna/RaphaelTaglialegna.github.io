import { useEffect, useRef, useState } from 'react'
import gsap from 'gsap-trial'
import DrawSVGPlugin from 'gsap-trial/DrawSVGPlugin'
import LogoS from '../../../../assets/images/raphaCat.png'
import './index.scss'

const ImageEffect = () => {
  const [opacity, setOpacity] = useState('')
  const bgRef = useRef()
  const outlineLogoRef = useRef()
  const solidLogoRef = useRef()

  useEffect(() => {
    gsap.registerPlugin(DrawSVGPlugin)

    gsap
      .timeline()
      .to(bgRef.current, {
        duration: 1,
        opacity: 1,
      })
      .from(outlineLogoRef.current, {
        drawSVG: 0,
        duration: 3,
      })
    gsap.fromTo(
      solidLogoRef.current,
      {
        opacity: 0,
      },
      {
        opacity: 1,
        delay: 4,
        duration: 4,
      }
    )
    setTimeout(() => {
      setOpacity('time-svg')
    }, 4500)
  }, [])

  return (
    <div className="logo-container" ref={bgRef}>
        <img
          className="solid-logo"
          ref={solidLogoRef}
          src={LogoS}
          alt="JavaScript,  Developer"
        />        
      
      <svg
        width="528pt"
        height="678pt"
        version="1.0"
        viewBox="0 0 528 678"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g
          className={`svg-container ${opacity}`}
          fill="none"
        >
          <path
            ref={outlineLogoRef}
            d="M 161.00,1.00
           C 170.43,-0.22 173.05,1.11 182.00,1.96
             189.94,2.71 198.26,3.07 204.82,8.50
             207.88,11.03 210.16,15.51 212.00,19.00
             212.00,19.00 212.00,17.00 212.00,17.00
             212.00,17.00 213.00,17.00 213.00,17.00
             213.00,17.00 221.79,25.42 221.79,25.42
             221.79,25.42 226.77,31.17 226.77,31.17
             226.77,31.17 236.84,38.68 236.84,38.68
             236.84,38.68 243.00,44.00 243.00,44.00
             242.03,53.47 246.93,59.38 249.29,67.96
             250.41,72.63 250.12,82.20 249.29,87.00
             248.86,90.59 249.80,95.46 247.00,98.00
             248.47,103.66 249.53,113.38 248.04,119.00
             247.10,122.58 243.37,127.80 243.28,133.00
             243.16,139.76 249.55,145.14 247.24,151.96
             245.35,157.52 242.07,155.68 239.39,162.02
             236.34,169.21 232.24,183.24 231.06,191.00
             231.06,191.00 231.06,200.00 231.06,200.00
             231.06,200.00 230.00,213.00 230.00,213.00
             230.10,221.53 232.08,231.46 239.00,237.00
             240.06,224.39 244.03,220.44 244.78,216.00
             245.75,210.22 244.45,202.52 247.96,193.00
             249.88,187.80 253.68,182.22 260.00,183.29
             267.90,184.64 268.15,193.90 274.10,195.70
             278.64,197.07 286.34,196.68 291.00,197.29
             297.32,198.11 302.44,200.64 309.00,200.24
             320.84,199.52 328.05,190.60 339.00,188.00
             339.00,188.00 332.70,203.00 332.70,203.00
             332.70,203.00 329.18,219.00 329.18,219.00
             329.18,219.00 326.51,227.00 326.51,227.00
             326.51,227.00 327.91,245.00 327.91,245.00
             327.91,245.00 323.00,261.00 323.00,261.00
             331.77,262.38 336.83,267.25 344.00,272.00
             344.00,272.00 355.00,278.60 355.00,278.60
             360.56,282.34 376.76,296.21 382.00,301.09
             385.20,304.07 391.56,310.08 393.15,314.00
             394.36,317.01 393.86,321.57 394.29,325.00
             394.29,325.00 397.70,346.00 397.70,346.00
             398.52,348.51 401.20,352.69 402.69,355.00
             402.69,355.00 425.26,384.00 425.26,384.00
             428.27,388.88 425.55,390.92 428.35,396.00
             428.35,396.00 449.29,425.00 449.29,425.00
             462.31,443.27 478.45,464.46 478.99,488.00
             479.10,492.88 478.60,494.50 478.17,499.00
             477.46,506.45 478.33,513.37 473.20,519.89
             468.54,525.83 464.16,523.02 459.00,524.54
             450.19,527.15 440.33,535.95 424.00,536.00
             431.78,546.77 453.35,559.06 466.83,560.06
             472.88,560.50 477.83,556.34 483.00,553.76
             490.98,549.77 501.02,545.61 510.00,545.09
             515.79,544.76 534.12,548.98 524.85,557.61
             520.80,561.38 515.01,561.43 510.00,562.93
             505.84,564.18 503.33,566.12 500.00,568.81
             491.13,575.99 490.29,582.13 483.00,583.66
             483.00,583.66 466.00,585.73 466.00,585.73
             466.00,585.73 444.00,583.36 444.00,583.36
             444.00,583.36 434.00,578.79 434.00,578.79
             434.00,578.79 421.28,573.95 421.28,573.95
             421.28,573.95 414.99,569.22 414.99,569.22
             414.99,569.22 405.09,562.98 405.09,562.98
             396.28,556.88 399.59,556.65 388.00,552.00
             388.00,552.00 388.96,563.00 388.96,563.00
             388.96,563.00 388.96,574.00 388.96,574.00
             388.96,574.00 390.00,588.00 390.00,588.00
             390.00,588.00 391.46,610.00 391.46,610.00
             391.46,610.00 399.58,641.00 399.58,641.00
             399.58,641.00 403.15,656.00 403.15,656.00
             403.15,656.00 408.00,677.00 408.00,677.00
             408.00,677.00 101.00,677.00 101.00,677.00
             94.24,676.99 93.55,677.19 88.85,671.98
             80.75,663.00 82.99,656.89 81.08,646.00
             81.08,646.00 78.66,636.00 78.66,636.00
             78.66,636.00 76.50,624.00 76.50,624.00
             76.50,624.00 73.37,613.00 73.37,613.00
             70.90,603.11 69.65,593.14 68.91,583.00
             68.59,578.57 67.84,577.07 68.24,572.00
             68.15,568.99 68.99,566.00 68.24,563.00
             67.22,556.45 61.81,552.10 65.00,539.00
             59.45,537.12 55.39,536.03 56.23,529.00
             56.54,526.34 57.81,524.63 57.56,522.58
             57.07,518.54 53.97,518.68 56.00,510.00
             45.55,504.93 49.30,498.19 47.82,492.00
             46.11,484.82 44.14,482.79 41.76,477.00
             41.76,477.00 36.47,463.00 36.47,463.00
             36.47,463.00 30.42,452.26 30.42,452.26
             27.88,449.12 25.36,449.60 23.11,444.91
             23.11,444.91 16.35,423.00 16.35,423.00
             13.46,417.79 8.28,414.58 6.57,410.00
             4.91,405.54 5.23,398.66 4.91,394.00
             4.91,394.00 2.84,373.00 2.84,373.00
             2.84,373.00 0.91,347.00 0.91,347.00
             -1.30,315.38 -0.98,292.84 23.72,269.22
             31.26,262.01 40.81,262.96 49.00,260.36
             49.00,260.36 58.00,256.13 58.00,256.13
             58.00,256.13 67.00,254.34 67.00,254.34
             70.84,253.47 81.32,249.40 85.00,247.68
             85.00,247.68 99.00,239.27 99.00,239.27
             99.00,239.27 106.00,236.69 106.00,236.69
             116.74,231.05 127.47,217.62 126.96,205.00
             126.67,197.72 122.89,188.19 120.86,181.00
             120.86,181.00 118.57,170.93 118.57,170.93
             116.66,167.43 110.77,166.96 108.18,161.96
             106.20,158.13 108.23,155.19 107.33,152.09
             106.61,149.60 103.15,146.57 101.71,142.58
             100.32,138.71 101.68,134.79 100.15,130.00
             100.15,130.00 97.72,124.00 97.72,124.00
             97.72,124.00 96.09,117.00 96.09,117.00
             93.51,109.37 91.66,106.62 94.00,98.00
             94.00,98.00 92.00,98.00 92.00,98.00
             92.00,98.00 95.82,84.00 95.82,84.00
             95.82,84.00 96.33,72.00 96.33,72.00
             96.33,72.00 107.80,41.02 107.80,41.02
             107.80,41.02 122.00,25.00 122.00,25.00
             122.00,25.00 123.00,27.00 123.00,27.00
             124.32,22.53 127.04,18.31 132.00,18.00
             134.99,12.11 136.59,14.21 141.85,12.19
             144.13,11.31 153.36,6.47 155.00,5.00
             155.00,5.00 163.00,4.00 163.00,4.00
             163.00,4.00 161.00,2.00 161.00,2.00
             161.00,2.00 161.00,1.00 161.00,1.00 Z
           M 169.00,1.00
           C 169.00,1.00 168.00,1.00 168.00,1.00
             168.00,1.00 169.00,2.00 169.00,2.00
             169.00,2.00 169.00,1.00 169.00,1.00 Z
           M 178.00,2.00
           C 178.00,2.00 177.00,2.00 177.00,2.00
             177.00,2.00 178.00,3.00 178.00,3.00
             178.00,3.00 178.00,2.00 178.00,2.00 Z
           M 205.00,9.00
           C 205.00,9.00 204.00,9.00 204.00,9.00
             204.00,9.00 205.00,10.00 205.00,10.00
             205.00,10.00 205.00,9.00 205.00,9.00 Z
           M 209.00,16.00
           C 209.00,16.00 208.00,16.00 208.00,16.00
             208.00,16.00 209.00,17.00 209.00,17.00
             209.00,17.00 209.00,16.00 209.00,16.00 Z
           M 218.00,24.00
           C 218.00,24.00 217.00,24.00 217.00,24.00
             217.00,24.00 218.00,25.00 218.00,25.00
             218.00,25.00 218.00,24.00 218.00,24.00 Z
           M 224.00,29.00
           C 224.00,29.00 223.00,29.00 223.00,29.00
             223.00,29.00 224.00,30.00 224.00,30.00
             224.00,30.00 224.00,29.00 224.00,29.00 Z
           M 111.00,38.00
           C 111.00,38.00 110.00,38.00 110.00,38.00
             110.00,38.00 111.00,39.00 111.00,39.00
             111.00,39.00 111.00,38.00 111.00,38.00 Z
           M 98.00,73.00
           C 98.00,73.00 97.00,73.00 97.00,73.00
             97.00,73.00 98.00,74.00 98.00,74.00
             98.00,74.00 98.00,73.00 98.00,73.00 Z
           M 248.00,95.00
           C 248.00,95.00 247.00,95.00 247.00,95.00
             247.00,95.00 248.00,96.00 248.00,96.00
             248.00,96.00 248.00,95.00 248.00,95.00 Z
           M 98.00,115.00
           C 98.00,115.00 97.00,115.00 97.00,115.00
             97.00,115.00 98.00,116.00 98.00,116.00
             98.00,116.00 98.00,115.00 98.00,115.00 Z" />
        </g>
      </svg>
    </div>
  )
}

export default ImageEffect;
